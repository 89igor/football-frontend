{"ast":null,"code":"import { setPositionColor } from '../../helper/result-position';\nimport { switchMap, takeUntil } from 'rxjs/operators';\nimport { FilterLeagueDirective } from '../../directive/filterLeague.directive';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/league.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../header-component/header-component.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../arrow-tab/arrow-tab.component\";\nimport * as i6 from \"../team/team.component\";\n\nfunction DetailedStatComponent_ng_container_1_div_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 12);\n    i0.ɵɵlistener(\"click\", function DetailedStatComponent_ng_container_1_div_9_ng_container_1_Template_span_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const item_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.sortByCard(item_r3);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r3, \"\");\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_9_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", item_r3, \" \");\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtemplate(1, DetailedStatComponent_ng_container_1_div_9_ng_container_1_Template, 3, 1, \"ng-container\", 10);\n    i0.ɵɵtemplate(2, DetailedStatComponent_ng_container_1_div_9_ng_template_2_Template, 1, 1, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n\n    const _r5 = i0.ɵɵreference(3);\n\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r3 === ctx_r1.cardTypes.RED || item_r3 === ctx_r1.cardTypes.YELLOW)(\"ngIfElse\", _r5);\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_10_ng_container_5_div_1_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 20);\n  }\n\n  if (rf & 2) {\n    const item_r12 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵproperty(\"src\", item_r12.nextMatch, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_10_ng_container_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, DetailedStatComponent_ng_container_1_div_10_ng_container_5_div_1_img_1_Template, 1, 1, \"img\", 19);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r12 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r12.nextMatch);\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_10_ng_container_5_ng_template_2_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const key_r14 = i0.ɵɵnextContext(2).$implicit;\n    const item_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r12[key_r14]);\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_10_ng_container_5_ng_template_2_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 23)(4, \"button\", 24);\n    i0.ɵɵtext(5, \"All Predictions\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const key_r14 = i0.ɵɵnextContext(2).$implicit;\n    const item_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r12[key_r14]);\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_10_ng_container_5_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, DetailedStatComponent_ng_container_1_div_10_ng_container_5_ng_template_2_div_0_Template, 3, 1, \"div\", 10);\n    i0.ɵɵtemplate(1, DetailedStatComponent_ng_container_1_div_10_ng_container_5_ng_template_2_ng_template_1_Template, 6, 1, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    const _r22 = i0.ɵɵreference(2);\n\n    const key_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngIf\", key_r14 == \"pastBTTS\" || key_r14 == \"homeAwayOver\" || key_r14 == \"homeAwayUnder\" || key_r14 == \"totalFTS\" || key_r14 == \"totalCleanSheet\" || key_r14 == \"totalCorners\" || key_r14 == \"red\")(\"ngIfElse\", _r22);\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_10_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, DetailedStatComponent_ng_container_1_div_10_ng_container_5_div_1_Template, 2, 1, \"div\", 10);\n    i0.ɵɵtemplate(2, DetailedStatComponent_ng_container_1_div_10_ng_container_5_ng_template_2_Template, 3, 2, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const key_r14 = ctx.$implicit;\n\n    const _r16 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", key_r14 === \"nextMatch\")(\"ngIfElse\", _r16);\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵelement(2, \"div\", 15);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"app-team\", 16);\n    i0.ɵɵlistener(\"click\", function DetailedStatComponent_ng_container_1_div_10_Template_app_team_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const item_r12 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return ctx_r29.navigateToTeamPage(item_r12.name);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, DetailedStatComponent_ng_container_1_div_10_ng_container_5_Template, 4, 2, \"ng-container\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r12 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"className\", \"position-color \" + item_r12.class);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r12.position, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"teamEmblem\", item_r12.logo_path)(\"teamName\", item_r12.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.columns[ctx_r2.currentType].data);\n  }\n}\n\nfunction DetailedStatComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 2)(2, \"app-arrow-tab\", 3);\n    i0.ɵɵlistener(\"activeChanged\", function DetailedStatComponent_ng_container_1_Template_app_arrow_tab_activeChanged_2_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.changeActiveGroup($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"div\", 5)(5, \"div\");\n    i0.ɵɵtext(6, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8, \"TEAM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, DetailedStatComponent_ng_container_1_div_9_Template, 4, 2, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, DetailedStatComponent_ng_container_1_div_10_Template, 6, 5, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"div\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"actives\", ctx_r0.activeGroups)(\"width\", ctx_r0.sizeOfArrowTabGroupwidth)(\"background\", ctx_r0.sizeOfArrowTabGroupbag);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.columns[ctx_r0.currentType].headers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.detailedStats);\n  }\n}\n\nvar DetailedTypes = /*#__PURE__*/(() => {\n  (function (DetailedTypes) {\n    DetailedTypes[\"BTTS\"] = \"btts\";\n    DetailedTypes[\"OVER\"] = \"over\";\n    DetailedTypes[\"UNDER\"] = \"under\";\n    DetailedTypes[\"FTS\"] = \"fts\";\n    DetailedTypes[\"CLEAN_SHEET\"] = \"cleanSheet\";\n    DetailedTypes[\"CORNERS\"] = \"corners\";\n    DetailedTypes[\"CARDS\"] = \"cards\";\n  })(DetailedTypes || (DetailedTypes = {}));\n\n  return DetailedTypes;\n})();\nvar CardTypes = /*#__PURE__*/(() => {\n  (function (CardTypes) {\n    CardTypes[\"RED\"] = \"Red\";\n    CardTypes[\"YELLOW\"] = \"Yellow\";\n  })(CardTypes || (CardTypes = {}));\n\n  return CardTypes;\n})();\nexport let DetailedStatComponent = /*#__PURE__*/(() => {\n  class DetailedStatComponent extends FilterLeagueDirective {\n    constructor(leagueService, router) {\n      super(leagueService);\n      this.leagueService = leagueService;\n      this.router = router;\n      this.detailedTypes = DetailedTypes;\n      this.cardTypes = CardTypes;\n      this.activeGroups = [{\n        name: 'BTTS',\n        active: 'btts',\n        isActive: true\n      }, {\n        name: 'POVER 2.5',\n        active: 'over',\n        isActive: true\n      }, {\n        name: 'Under 2.5',\n        active: 'under',\n        isActive: true\n      }, {\n        name: 'FTS',\n        active: 'fts',\n        isActive: true\n      }, {\n        name: 'CLEAN SHEET',\n        active: 'cleanSheet',\n        isActive: true\n      }, {\n        name: 'CORNERS',\n        active: 'corners',\n        isActive: true\n      }, {\n        name: 'CARDS',\n        active: 'cards',\n        isActive: true\n      }];\n      this.sizeOfArrowTabGroupwidth = '8.5em';\n      this.sizeOfArrowTabGroupbag = 'fst';\n      this.currentType = 'btts';\n      this.columns = {\n        btts: {\n          headers: ['Past BTTS %', 'Next Match', 'BTTS Prediction'],\n          data: ['pastBTTS', 'nextMatch', 'predictionBTTS']\n        },\n        over: {\n          headers: ['Home - Away', 'Next Match', 'Our Prediction'],\n          data: ['homeAwayOver', 'nextMatch', 'ourPredictionOver']\n        },\n        under: {\n          headers: ['Home - Away', 'Next Match', 'Our Prediction'],\n          data: ['homeAwayUnder', 'nextMatch', 'ourPredictionUnder']\n        },\n        fts: {\n          headers: ['Total', 'Home - Away', 'Next Match'],\n          data: ['totalFTS', 'homeAwayFTS', 'nextMatch']\n        },\n        cleanSheet: {\n          headers: ['Total', 'Home - Away', 'Next Match'],\n          data: ['totalCleanSheet', 'homeAwayCleanSheet', 'nextMatch']\n        },\n        corners: {\n          headers: ['Total', 'Av Per Game', 'Next Match'],\n          data: ['totalCorners', 'avPerGame', 'nextMatch']\n        },\n        cards: {\n          headers: ['Red', 'Next Match', 'Yellow'],\n          data: ['red', 'nextMatch', 'yellow']\n        }\n      };\n      this.detailedStats = [];\n    }\n\n    changeActiveGroup(active) {\n      if (active.active !== this.currentType) {\n        this.currentType = active.active;\n      }\n    }\n\n    getData() {\n      this.subject$.asObservable().pipe(switchMap(() => this.leagueService.getDetailStats(this.leagueService.league.id, this.curSeason)), takeUntil(this.subscription)).subscribe(res => {\n        this.detailedStats = res === null || res === void 0 ? void 0 : res.map(item => {\n          return {\n            position: item.position,\n            name: item.name,\n            logo_path: item.logo_path,\n            pastBTTS: 0,\n            nextMatch: '',\n            predictionBTTS: item.stats.btts,\n            homeAwayOver: `${item.stats.over_2_5.home}-${item.stats.over_2_5.away}`,\n            ourPredictionOver: 0,\n            homeAwayUnder: `${item.stats.under_2_5.home}-${item.stats.under_2_5.away}`,\n            ourPredictionUnder: 0,\n            totalFTS: item.stats.failedToScore.total,\n            homeAwayFTS: `${item.stats.failedToScore.home}-${item.stats.failedToScore.away}`,\n            totalCleanSheet: item.stats.cleanSheet.total,\n            homeAwayCleanSheet: `${item.stats.cleanSheet.home}-${item.stats.cleanSheet.away}`,\n            totalCorners: item.stats.corners.total,\n            avPerGame: item.stats.corners.avPerGame,\n            red: item.stats.cards.red,\n            yellow: item.stats.cards.yellow,\n            class: setPositionColor(item.name)\n          };\n        });\n        console.log(this.detailedStats);\n        this.loaderState = {\n          val: false\n        };\n      }, () => this.loaderState = {\n        val: false\n      });\n    }\n\n    showTable(value) {\n      if (value !== this.currentType) {\n        this.currentType = value;\n      }\n    }\n\n    sortByCard(item) {\n      if (item === this.cardTypes.RED) {\n        this.detailedStats = this.detailedStats.sort((a, b) => b.red - a.red);\n      } else {\n        this.detailedStats = this.detailedStats.sort((a, b) => b.yellow - a.yellow);\n      }\n    }\n\n    navigateToTeamPage(teamName) {\n      this.router.navigateByUrl('/', {\n        skipLocationChange: true\n      }).then(() => this.router.navigate(['team', teamName]));\n    }\n\n  }\n\n  DetailedStatComponent.ɵfac = function DetailedStatComponent_Factory(t) {\n    return new (t || DetailedStatComponent)(i0.ɵɵdirectiveInject(i1.LeagueService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  DetailedStatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetailedStatComponent,\n    selectors: [[\"app-detailed-stat\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 2,\n    vars: 5,\n    consts: [[3, \"title\", \"hasSelectRange\", \"seasons\", \"curSeason\", \"selectedSeason\"], [4, \"ngIf\"], [1, \"card\", \"stats\", \"nonepd\", \"nonemg\"], [3, \"actives\", \"width\", \"background\", \"activeChanged\"], [1, \"table-grid\", \"nonepd\"], [1, \"grid-item\", \"grid-header\", \"py-1\", \"nonemg\", \"nonebr\", \"F1bg\"], [\"class\", \"text-center\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"grid-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"secondheight\", \"br20\"], [1, \"text-center\"], [4, \"ngIf\", \"ngIfElse\"], [\"items\", \"\"], [1, \"pointer\", 3, \"click\"], [1, \"grid-item\"], [1, \"position\"], [3, \"className\"], [1, \"pointer\", 3, \"teamEmblem\", \"teamName\", \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"otherFields\", \"\"], [\"class\", \"image\", 3, \"src\", 4, \"ngIf\"], [1, \"image\", 3, \"src\"], [1, \"divflex\"], [1, \"text-center\", \"pt-1\", \"w-2\"], [1, \"pl-2\"], [1, \"btn\", \"btn-predic\", \"w-7\", \"p-1\", \"px-2\"]],\n    template: function DetailedStatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-header-component\", 0);\n        i0.ɵɵlistener(\"selectedSeason\", function DetailedStatComponent_Template_app_header_component_selectedSeason_0_listener($event) {\n          return ctx.selectSeason($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(1, DetailedStatComponent_ng_container_1_Template, 12, 5, \"ng-container\", 1);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"title\", ctx.label + \" Detailed Stats\")(\"hasSelectRange\", true)(\"seasons\", ctx.seasons)(\"curSeason\", ctx.curSeason);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.detailedStats == null ? null : ctx.detailedStats.length);\n      }\n    },\n    directives: [i3.HeaderComponentComponent, i4.NgIf, i5.ArrowTabComponent, i4.NgForOf, i6.TeamComponent],\n    styles: [\"@media (max-width: 768px){app-header-component[_ngcontent-%COMP%]{margin-bottom:9px}}.grid-item[_ngcontent-%COMP%]{grid-template-columns:2fr 5fr 3fr 3fr 4fr;padding:4px 8px 6px 12px;font-size:14px}@media (max-width: 768px){.grid-item[_ngcontent-%COMP%]{grid-template-columns:2fr 4fr 3fr 3fr 4fr;font-size:8px;padding:7px 7px 6px}}.grid-header[_ngcontent-%COMP%]{padding:11px 0 10px}@media (max-width: 768px){.grid-header[_ngcontent-%COMP%]{padding:0;font-size:7px}}.grid-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-left:16px}@media (max-width: 768px){.grid-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-left:10px}}.image[_ngcontent-%COMP%]{max-height:28px;margin:0 auto}.team[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{margin:0}@media (max-width: 768px){.image[_ngcontent-%COMP%]{max-height:14px}}@media (max-width: 768px){.table-grid[_ngcontent-%COMP%]{padding-bottom:5px}}.btn-primary[_ngcontent-%COMP%]{font-size:14px;padding:6px 25px}@media (max-width: 768px){.btn-primary[_ngcontent-%COMP%]{padding:0 12px;font-size:7px;line-height:13px;border-radius:4px}}.btn-default[_ngcontent-%COMP%]{font-weight:600;height:36px;border-left:1px solid #C1C7CD;border-bottom-left-radius:0;border-top-left-radius:0;background:#ffffff;padding:0}@media (max-width: 768px){.btn-default[_ngcontent-%COMP%]{font-size:7px;line-height:13px;height:13px;border-left:none;border-radius:4px}}.btn-default[_ngcontent-%COMP%]:first-child{border-left:none}.btn-default.btn-active[_ngcontent-%COMP%]{background:#376BB2;color:#fff;border-left:none;border-bottom-left-radius:4px;border-top-left-radius:4px}@media (max-width: 768px){.btn-default.btn-active[_ngcontent-%COMP%]{border-bottom-left-radius:4px;border-top-left-radius:4px}}.btn-default.btn-active[_ngcontent-%COMP%] + .btn-default[_ngcontent-%COMP%]{border-left:none}.btn-default.btn-fts[_ngcontent-%COMP%]{width:12.5%}.btn-default.btn-clean-sheet[_ngcontent-%COMP%]{width:17.6%}.btn-default.btn-corners[_ngcontent-%COMP%]{width:13.7%}.btn-default.btn-cards[_ngcontent-%COMP%]{width:12%}.btn-default.btn-btts[_ngcontent-%COMP%], .btn-default.btn-over[_ngcontent-%COMP%], .btn-default.btn-under[_ngcontent-%COMP%]{width:14.6%}.stats[_ngcontent-%COMP%]{margin-bottom:16px;padding:11px 12px}@media (max-width: 768px){.card[_ngcontent-%COMP%]{padding:1px 8px 2px;margin-bottom:8px;border-radius:6px}}.btn-predic[_ngcontent-%COMP%]{background:#6DC47F;border-radius:7px;color:#fff}.grid-header[_ngcontent-%COMP%]{font-weight:600}.w-2[_ngcontent-%COMP%]{width:2rem!important}.w-7[_ngcontent-%COMP%]{width:7rem!important}\"]\n  });\n  return DetailedStatComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}