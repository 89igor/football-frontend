{"ast":null,"code":"import { switchMap, takeUntil } from 'rxjs/operators';\nimport { setPositionColor } from '../../helper/result-position';\nimport { FilterDirective } from '../../directive/filter.directive';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/team.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../header-component/header-component.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../team/team.component\";\nimport * as i6 from \"../more/more.component\";\n\nfunction CompetitionStandingComponent_ng_container_1_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵlistener(\"click\", function CompetitionStandingComponent_ng_container_1_div_21_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return ctx_r4.navigateToTeamPage(item_r3.name);\n    });\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"app-team\", 9);\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r3.rank, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"className\", \"position-color \" + item_r3.class);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"teamEmblem\", item_r3.logo_path)(\"teamName\", item_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.gamesPlayed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.points);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.wins);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.draws);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.losses);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.goalsTotal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.goalsDifference);\n  }\n}\n\nfunction CompetitionStandingComponent_ng_container_1_app_more_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-more\", 10);\n    i0.ɵɵlistener(\"getMore\", function CompetitionStandingComponent_ng_container_1_app_more_22_Template_app_more_getMore_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.more();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"loaderState\", ctx_r2.loaderState);\n  }\n}\n\nfunction CompetitionStandingComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 2)(2, \"div\", 3)(3, \"div\");\n    i0.ɵɵtext(4, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6, \"Team\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8, \"GP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10, \"P\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵtext(12, \"W\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵtext(14, \"D\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\");\n    i0.ɵɵtext(16, \"L\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\");\n    i0.ɵɵtext(18, \"G\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\");\n    i0.ɵɵtext(20, \"GD\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(21, CompetitionStandingComponent_ng_container_1_div_21_Template, 19, 11, \"div\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, CompetitionStandingComponent_ng_container_1_app_more_22_Template, 1, 1, \"app-more\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.competitionStandings);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.lastLength !== ctx_r0.competitionStandings.length);\n  }\n}\n\nexport let CompetitionStandingComponent = /*#__PURE__*/(() => {\n  class CompetitionStandingComponent extends FilterDirective {\n    constructor(teamService, router) {\n      super(teamService);\n      this.teamService = teamService;\n      this.router = router;\n      this.competitionStandings = [];\n    }\n\n    selectSeason(id) {\n      this.competitionStandings = [];\n      super.selectSeason(id);\n    }\n\n    selectLeague(id) {\n      this.competitionStandings = [];\n      super.selectLeague(id);\n    }\n\n    getData() {\n      this.subject$.asObservable().pipe(switchMap(() => this.teamService.getCompetitionStandings(this.count, this.offset, this.curSeason, this.curLeague)), takeUntil(this.subscription)).subscribe(res => {\n        this.lastLength = this.competitionStandings.length;\n        this.competitionStandings = this.competitionStandings.concat(res.map(item => {\n          // console.log(item)\n          return Object.assign(Object.assign({}, item), {\n            class: setPositionColor(item.name)\n          });\n        }));\n        this.loaderState = {\n          val: false\n        };\n      });\n    }\n\n    navigateToTeamPage(teamName) {\n      this.router.navigateByUrl('/', {\n        skipLocationChange: true\n      }).then(() => this.router.navigate(['team', teamName]));\n    }\n\n  }\n\n  CompetitionStandingComponent.ɵfac = function CompetitionStandingComponent_Factory(t) {\n    return new (t || CompetitionStandingComponent)(i0.ɵɵdirectiveInject(i1.TeamService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  CompetitionStandingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CompetitionStandingComponent,\n    selectors: [[\"app-competition-standing\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 2,\n    vars: 8,\n    consts: [[\"title\", \"Competition Standings\", 3, \"hasSelectLeague\", \"leagues\", \"curLeague\", \"hasSelectRange\", \"seasons\", \"curSeason\", \"leaguestat\", \"selectedLeague\", \"selectedSeason\"], [4, \"ngIf\"], [1, \"table-grid\", \"nonepd\"], [1, \"grid-item\", \"grid-header\", \"nonemg\", \"nonepd\", \"py-3\", \"nonebr\"], [\"class\", \"grid-item pointer\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"loaderState\", \"getMore\", 4, \"ngIf\"], [1, \"grid-item\", \"pointer\", 3, \"click\"], [1, \"position\"], [3, \"className\"], [3, \"teamEmblem\", \"teamName\"], [3, \"loaderState\", \"getMore\"]],\n    template: function CompetitionStandingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-header-component\", 0);\n        i0.ɵɵlistener(\"selectedLeague\", function CompetitionStandingComponent_Template_app_header_component_selectedLeague_0_listener($event) {\n          return ctx.selectLeague($event);\n        })(\"selectedSeason\", function CompetitionStandingComponent_Template_app_header_component_selectedSeason_0_listener($event) {\n          return ctx.selectSeason($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(1, CompetitionStandingComponent_ng_container_1_Template, 23, 2, \"ng-container\", 1);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"hasSelectLeague\", true)(\"leagues\", ctx.leagues)(\"curLeague\", ctx.curLeague)(\"hasSelectRange\", true)(\"seasons\", ctx.seasons)(\"curSeason\", ctx.curSeason)(\"leaguestat\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.competitionStandings.length);\n      }\n    },\n    directives: [i3.HeaderComponentComponent, i4.NgIf, i4.NgForOf, i5.TeamComponent, i6.MoreComponent],\n    styles: [\"app-header-component[_ngcontent-%COMP%]{margin-bottom:16px}@media (max-width: 768px){app-header-component[_ngcontent-%COMP%]{margin-bottom:9px}}.grid-item[_ngcontent-%COMP%]{grid-template-columns:1fr 6fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;padding:11px 16px 12px;font-size:16px}@media (max-width: 768px){.grid-item[_ngcontent-%COMP%]{font-size:8px;padding:7px 7px 6px;grid-template-columns:1.5fr 6fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr}}.grid-header[_ngcontent-%COMP%]{padding:11px 0 10px}@media (max-width: 768px){.grid-header[_ngcontent-%COMP%]{padding:0}}.grid-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-left:16px}@media (max-width: 768px){.grid-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-left:10px}}@media (max-width: 768px){.table-grid[_ngcontent-%COMP%]{padding-bottom:5px}}\"]\n  });\n  return CompetitionStandingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}