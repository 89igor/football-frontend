{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { debounce, tap } from \"rxjs/operators\";\nimport { FormControl } from \"@angular/forms\";\nimport { Subject, timer } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction SearchComponent_div_0_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_0_div_4_div_1_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const element_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return ctx_r6.searchLink(element_r5);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const element_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r5 == null ? null : element_r5.name);\n  }\n}\n\nfunction SearchComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, SearchComponent_div_0_div_4_div_1_Template, 3, 1, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.listResult);\n  }\n}\n\nfunction SearchComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵlistener(\"focusin\", function SearchComponent_div_0_Template_div_focusin_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.focusIn($event);\n    })(\"focusout\", function SearchComponent_div_0_Template_div_focusout_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.focusOut($event);\n    })(\"mouseleave\", function SearchComponent_div_0_Template_div_mouseleave_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return !ctx_r11.focus ? ctx_r11.focusOut($event) : \"\";\n    });\n    i0.ɵɵelementStart(1, \"div\", 3)(2, \"input\", 4);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_0_Template_input_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.focusIn($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"i\", 5);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_0_Template_i_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.search();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, SearchComponent_div_0_div_4_Template, 2, 1, \"div\", 6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"search-menu\", ctx_r0.isMenu);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.searchControl)(\"placeholder\", ctx_r0.placeholder);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showListResult && (ctx_r0.listResult == null ? null : ctx_r0.listResult.length));\n  }\n}\n\nfunction SearchComponent_ng_template_1_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function SearchComponent_ng_template_1_div_4_div_1_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const element_r16 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return ctx_r17.searchLink(element_r16);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r16 == null ? null : element_r16.name);\n  }\n}\n\nfunction SearchComponent_ng_template_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, SearchComponent_ng_template_1_div_4_div_1_Template, 3, 1, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r14.listResult);\n  }\n}\n\nfunction SearchComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵlistener(\"focusin\", function SearchComponent_ng_template_1_Template_div_focusin_0_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.focusIn($event);\n    })(\"focusout\", function SearchComponent_ng_template_1_Template_div_focusout_0_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.focusOut($event);\n    })(\"mouseleave\", function SearchComponent_ng_template_1_Template_div_mouseleave_0_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return !ctx_r22.focus ? ctx_r22.focusOut($event) : \"\";\n    });\n    i0.ɵɵelementStart(1, \"div\", 3)(2, \"input\", 10);\n    i0.ɵɵlistener(\"click\", function SearchComponent_ng_template_1_Template_input_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.focusIn($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"i\", 5);\n    i0.ɵɵlistener(\"click\", function SearchComponent_ng_template_1_Template_i_click_3_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.search();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, SearchComponent_ng_template_1_div_4_Template, 2, 1, \"div\", 6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"search-menu\", ctx_r2.isMenu);\n    i0.ɵɵproperty(\"formControl\", ctx_r2.searchControl)(\"placeholder\", ctx_r2.placeholder);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showListResult && (ctx_r2.listResult == null ? null : ctx_r2.listResult.length));\n  }\n}\n\nexport let SearchComponent = /*#__PURE__*/(() => {\n  class SearchComponent {\n    // @HostListener('window:click')\n    // onClick() {\n    //   this.showListResult = false;\n    //   this.listResult = [];\n    // }\n    constructor(router) {\n      this.router = router;\n      this.placeholder = 'Search Team';\n      this.isMenu = false;\n      this.size = 'medium';\n      this.showBorder = false;\n      this.listResult = [];\n      this.name = '';\n      this.type = '';\n      this.isDebounce = false;\n      this.debounceTime = 500;\n      this.control = new EventEmitter();\n      this.eventSubmit = new EventEmitter();\n      this.showListResult = false;\n      this.focus = false;\n      this.searchControl = new FormControl('');\n      this.unSubscribe = new Subject();\n    }\n\n    ngOnInit() {\n      if (this.isDebounce) {\n        this.searchControl.valueChanges.pipe(tap(v => {\n          this.listResult = [];\n        }), debounce(() => timer(this.debounceTime))).subscribe(result => {\n          this.search();\n        });\n      }\n    }\n\n    search() {\n      this.eventSubmit.emit(this.searchControl.value);\n    }\n\n    focusIn($event) {\n      this.focus = true;\n      this.showListResult = true;\n    }\n\n    focusOut($event) {\n      this.focus = false;\n      this.showListResult = true;\n    }\n\n    searchLink(element) {\n      if (this.router.url.includes('player') || this.router.url.includes('team') && !this.firstTeamId || this.router.url.includes('league')) {\n        this.router.navigateByUrl('/', {\n          skipLocationChange: true\n        }).then(() => {\n          this.router.navigate(['/', element.type, element.name]);\n        });\n      } else if (this.firstTeamId) {\n        this.router.navigate(['/h2h', this.firstTeamId, element.id]);\n      } else {\n        this.router.navigate(['/', element.type, element.name]);\n      }\n\n      this.showListResult = false;\n    }\n\n    ngOnDestroy() {\n      this.unSubscribe.next();\n      this.unSubscribe.complete();\n    }\n\n  }\n\n  SearchComponent.ɵfac = function SearchComponent_Factory(t) {\n    return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.Router));\n  };\n\n  SearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchComponent,\n    selectors: [[\"app-search\"]],\n    inputs: {\n      placeholder: \"placeholder\",\n      isMenu: \"isMenu\",\n      size: \"size\",\n      showBorder: \"showBorder\",\n      listResult: \"listResult\",\n      modalTemplate: \"modalTemplate\",\n      name: \"name\",\n      type: \"type\",\n      isDebounce: \"isDebounce\",\n      debounceTime: \"debounceTime\",\n      firstTeamId: \"firstTeamId\"\n    },\n    outputs: {\n      control: \"control\",\n      eventSubmit: \"eventSubmit\"\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[\"id\", \"search-header\", 3, \"focusin\", \"focusout\", \"mouseleave\", 4, \"ngIf\", \"ngIfElse\"], [\"other\", \"\"], [\"id\", \"search-header\", 3, \"focusin\", \"focusout\", \"mouseleave\"], [1, \"search\"], [1, \"search-input\", \"head-search\", 3, \"formControl\", \"placeholder\", \"click\"], [1, \"icon\", \"icon-search\", 3, \"click\"], [\"class\", \"list-modal px-3 py-1\", 4, \"ngIf\"], [1, \"list-modal\", \"px-3\", \"py-1\"], [4, \"ngFor\", \"ngForOf\"], [1, \"link\", 3, \"click\"], [1, \"search-input\", 3, \"formControl\", \"placeholder\", \"click\"]],\n    template: function SearchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SearchComponent_div_0_Template, 5, 5, \"div\", 0);\n        i0.ɵɵtemplate(1, SearchComponent_ng_template_1_Template, 5, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(2);\n\n        i0.ɵɵproperty(\"ngIf\", ctx.type == \"header\")(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlDirective, i2.NgForOf],\n    styles: [\".search[_ngcontent-%COMP%]{position:relative;width:100%}@media (max-width: 768px){.search[_ngcontent-%COMP%]{width:100%}}.search-input[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;color:#4d5358;padding:4px 40px;background:#FBFBFB;border-radius:5px;width:100%;height:34px;border:1px solid #B8B8B8}@media (max-width: 768px){.search-input[_ngcontent-%COMP%]{font-size:8px!important;padding:0 4px;color:#21272a;height:20px}}.search-menu[_ngcontent-%COMP%]{padding:10px 33px 10px 38px;background:#F1F1F1;border-radius:7px;width:100%;height:40px;border:none}@media (max-width: 768px){.search-menu[_ngcontent-%COMP%]{padding:6px 25px 6px 9px;height:32px;max-width:100%}}.icon-search[_ngcontent-%COMP%]{position:absolute;left:12px;top:calc(50% - 8px)}@media (max-width: 768px){.icon-search[_ngcontent-%COMP%]{width:7px!important;height:7px!important;background-size:7px!important;top:50%!important;left:5px}}.list-modal[_ngcontent-%COMP%]{box-shadow:#64646f99 0 7px 19px;background:white;position:absolute;width:250px;max-height:500px;overflow-y:scroll;padding:.25rem 1rem!important}.link[_ngcontent-%COMP%]{transition:.2s;cursor:pointer;display:block;text-decoration:none;color:#000}.search-input[_ngcontent-%COMP%]::placeholder{font-weight:500!important;color:#4c535f!important}.head-search[_ngcontent-%COMP%]{background:#202234;color:#fff;font-family:Roboto;font-style:italic;border-radius:5px;border:none}\"]\n  });\n  return SearchComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}