{"ast":null,"code":"import { switchMap, takeUntil } from \"rxjs\";\nimport { ResultEnum } from \"../../../../shared/interfaces/fixtures.interface\";\nimport { FilterLeagueDirective } from \"../../../../shared/directive/filterLeague.directive\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../shared/services/league.service\";\nimport * as i2 from \"../../../../shared/components/fixtures-table/fixtures-table.component\";\nexport let LeagueFixturesComponent = /*#__PURE__*/(() => {\n  class LeagueFixturesComponent extends FilterLeagueDirective {\n    constructor(leagueService) {\n      super(leagueService);\n      this.leagueService = leagueService;\n      this.fixtures = [];\n    }\n\n    getData() {\n      this.subject$.asObservable().pipe(switchMap(() => this.leagueService.getFixtures(this.count, this.page, this.leagueService.league.id, this.curSeason, ResultEnum.FIXTURE)), takeUntil(this.subscription)).subscribe(res => {\n        this.page = res === null || res === void 0 ? void 0 : res.page;\n\n        if (this.page === 1) {\n          this.fixtures = [];\n        }\n\n        this.lastLength = this.fixtures.length;\n        this.fixtures = this.fixtures.concat(res.data);\n        this.fixtures = this.fixtures.concat(res.data).sort((a, b) => new Date(b.dateStart).getTime() - new Date(a.dateStart).getTime());\n        this.loaderState = {\n          val: false\n        };\n      }, () => this.loaderState = {\n        val: false\n      });\n    }\n\n  }\n\n  LeagueFixturesComponent.ɵfac = function LeagueFixturesComponent_Factory(t) {\n    return new (t || LeagueFixturesComponent)(i0.ɵɵdirectiveInject(i1.LeagueService));\n  };\n\n  LeagueFixturesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LeagueFixturesComponent,\n    selectors: [[\"app-league-fixtures\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 1,\n    vars: 7,\n    consts: [[3, \"title\", \"seasons\", \"hasLeague\", \"seasonId\", \"loaderState\", \"lastLength\", \"fixtures\", \"selectedSeason\", \"getMore\"]],\n    template: function LeagueFixturesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-fixtures-table\", 0);\n        i0.ɵɵlistener(\"selectedSeason\", function LeagueFixturesComponent_Template_app_fixtures_table_selectedSeason_0_listener($event) {\n          return ctx.selectSeason($event);\n        })(\"getMore\", function LeagueFixturesComponent_Template_app_fixtures_table_getMore_0_listener() {\n          return ctx.more();\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"title\", ctx.title)(\"seasons\", ctx.seasons)(\"hasLeague\", false)(\"seasonId\", ctx.curSeason)(\"loaderState\", ctx.loaderState)(\"lastLength\", ctx.lastLength)(\"fixtures\", ctx.fixtures);\n      }\n    },\n    directives: [i2.FixturesTableComponent],\n    styles: [\"app-header-component[_ngcontent-%COMP%]{margin-bottom:14px}@media (max-width: 768px){app-header-component[_ngcontent-%COMP%]{margin-bottom:9px}}.date[_ngcontent-%COMP%]{line-height:1.2}.home-title[_ngcontent-%COMP%]{text-align:right;margin-right:31px}@media (max-width: 768px){.home-title[_ngcontent-%COMP%]{margin-right:4px}}.away-title[_ngcontent-%COMP%]{margin-left:20px}@media (max-width: 768px){.away-title[_ngcontent-%COMP%]{margin-right:4px}}@media (max-width: 768px){.table-grid[_ngcontent-%COMP%]{padding-bottom:4px}}\"]\n  });\n  return LeagueFixturesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}